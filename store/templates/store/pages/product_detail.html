{% extends 'store/base.html' %}

{% block title %}
    {{ product.name }}} | Tetris Clothing Store
{% endblock %}

{% load static %}
{% block extra_css %}
  <style type="text/css">
  </style>
{% endblock %}

{% block content %}

<section class="hero is-medium" style="background-image: url({% static 'store/img/index-bg.jpg' %})">
  <div class="hero-head">
    {% include 'store/header.html' %}
  </div>

  <div class="hero-body" style="font-family: LobsterTwo-Italic;" class="text-white">
    <div class="container has-text-centered text-white">
      <p class="title">
        Tetris
      </p>
      <p class="subtitle">
        The new look of simple
      </p>
      <a href="{% url 'store:store' %}">
        Go back to shopping Tetris
      </a>
    </div>
  </div>
</section>

<section class="section">
  <div class="columns">
    <div class="column"></div>
    <div class="column card center-box">
        <div class="card-content">
          <div class="media">
            <div class="media-left">
              <figure class="image is-48x48">
                <!-- <img src="{{ MEDIA_URL }}{{ product.product_images.all.0.product_image_url }}" alt="{{ product.name }}"> -->
                <img src="{{ MEDIA_URL }}{{ product.brand.brand_image_url }}" alt="{{ product.name }}">
              </figure>
            </div>
            <div class="media-content">
              <p class="title is-4">{{ product.name }}</p>
              <p class="subtitle is-6"><a href="{{ product.brand.get_absolute_url }}">@{{ product.brand.name }}</a></p>
            </div>
          </div>
          <div class="card-image">
            {% if  product.product_images %}
            <!-- Slideshow container -->
            <div class="slideshow-container">
              <!-- Full-width images with number and caption text -->
              {% for img in product.product_images.all %}
              <div class="mySlides fade">
                <div class="numbertext">{{ forloop.counter}} / {{ product.product_images.count}}</div>
                <img src="{{ MEDIA_URL }}{{img.product_image_url}}" style="width:100%">
                <div class="text">{{ product.name }}</div>
              </div>
              {% endfor %}
              <!-- Next and previous buttons -->
              <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
              <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
            <br>
            <!-- The dots/circles -->
            <div style="text-align:center">
              {% for img in product.product_images.all %}
                <span class="dot" onclick="currentSlide({{ forloop.counter }})"></span>
              {% endfor %}
            </div>
            {% else %}
              <figure class="image is-4by3">
                 <img src="{{ MEDIA_URL }}{{ product.brand.brand_image_url }}" alt="{{ product.name }}">
              </figure>
            {% endif %}

          </div>
          <div class="content">
            {{ product.desc }}
          </div>
          <footer class="card-footer">
          <p class="card-footer-item" style="color: green">Price per item:
          <span style="font-weight: bold"> &nbsp;N{{ product.price_per_unit }}</span></p>
          </footer>
          <footer class="card-footer">
          <p class="card-footer-item">Gender:<span style="font-weight: bold"> &nbsp;{{ product.gender }}</span></p>
          </footer>
          <footer class="card-footer">
          <p class="card-footer-item">Colour: <span style="font-weight: bold"> &nbsp;{{ product.colour }}</span></p>
          </footer>
          <footer class="card-footer">
          <p class="card-footer-item">Size: <span style="font-weight: bold"> &nbsp;{{ product.size }}</span></p>
          </footer>
          <footer class="card-footer">
          <p class="card-footer-item">Quantity Left in store: <span style="font-weight: bold"> &nbsp;{{ product.quantity }}</span></p>
          </footer>
          <footer class="card-footer">
          <p class="card-footer-item" style="color: green">Price per item: <span style="font-weight: bold"> &nbsp;N{{ product.price_per_unit }}</span></p>
          </footer>
          <footer class="card-footer">
            <a href="javascript:void(0);" class="card-footer-item">
              <p class="button is-danger is-small"
              onclick="add_to_wish_list({{ product.id }})" id="add_to_wish_list_{{product.id}}">
              Add to Wish List</p></a>
            <a href="javascript:void(0);" class="card-footer-item">
            <p class="button is-light is-small"
              onclick="add_to_cart({{ product.id }})" id="add_to_cart_{{product.id}}">
              Add to Cart</p></a>
          </footer>
        </div>

      </div>
      <!-- {{ related_products }} -->
    <div class="column">
    </div>
  </div>
</section>
{% endblock %}