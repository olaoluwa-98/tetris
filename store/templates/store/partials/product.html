{% load tetris %} {% load humanize %}
<div class="column is-3">
    <div class="box product-box">
    <figure class="image is-3by2">
    <a href="{{ product.get_absolute_url }}"><img src="{{ MEDIA_URL }}{{ product.product_images.all.0.product_image_url }}"></a>
    </figure>
    <div class="content">
    <p style="font-size: 1.2em; margin-bottom: 0px"><a href="{{ product.get_absolute_url }}">{{ product.name }}</a></p>
    <span class="icon">
    <i class="fa fa-user-circle"></i>
    </span><a href="{{ product.brand.get_absolute_url }}">{{ product.brand.name }}</a><br>
    {% if request.user.is_authenticated %}
    {% if product.id|product_wished:user %}
    <span class="icon" style="cursor: pointer; color:red;" onclick="remove_from_wish_list({{ product.id }})" id="remove_from_wish_list_{{product.id}}">
    <i class="fa fa-heart"></i>
    </span>
    {% else %}
    <span class="icon" style="cursor: pointer;" onclick="add_to_wish_list({{ product.id }})" id="add_to_wish_list_{{product.id}}">
    <i class="fa fa-heart"></i>
    </span>
    {% endif %}

    {% else %}
    {% endif %}
    {% if product.id|product_carted:request %}
    <span class="icon" style="cursor: pointer; color:red;" onclick="remove_from_cart({{ product.id }})" id="remove_from_cart_{{product.id}}">
    <i class="fa fa-shopping-cart"></i>
    </span>
    {% else %}
    <span class="icon" style="cursor: pointer;" onclick="add_to_cart({{ product.id }})" id="add_to_cart_{{product.id}}">
    <i class="fa fa-shopping-cart"></i>
    </span>
    {% endif %}

  â‚¦{{ product.price_per_unit | intcomma }}
    {% if product.quantity < 10 %}
    </br><span class="icon" title="currently {{ product.quantity }}">
    <i class="fa fa-arrow-down"></i>
    </span> Low in stock
    {% endif %}
    </div>
  </div>
</div>